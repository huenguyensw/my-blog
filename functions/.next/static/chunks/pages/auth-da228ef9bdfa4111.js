(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{4674:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var r=n(7876),a=n(4232),i=n(1494),o=n(9143),l=n(1951),s=n(7018),A=n(1084),c=n(7935),d=n(9241),u=n(4843),g=n(4697),h=n(7369),p=n(27),m=n(4773),x=n(566),f=n(2987),w=n(8457),b=n(4896),y=n(7951),j=n(5879);function C(e){return(0,j.Ay)("MuiLink",e)}let v=(0,y.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var k=n(327);let E=e=>{let{theme:t,ownerState:n}=e,r=n.color,a=(0,k.Yn)(t,"palette.".concat(r,".main"),!1)||(0,k.Yn)(t,"palette.".concat(r),!1)||n.color,i=(0,k.Yn)(t,"palette.".concat(r,".mainChannel"))||(0,k.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&i?"rgba(".concat(i," / 0.4)"):(0,u.X4)(a,.4)},S={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},D=e=>{let{classes:t,component:n,focusVisible:r,underline:a}=e,i={root:["root","underline".concat((0,p.A)(a)),"button"===n&&"button",r&&"focusVisible"]};return(0,g.A)(i,C,t)},I=(0,m.Ay)(s.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["underline".concat((0,p.A)(n.underline))],"button"===n.component&&t.button]}})((0,f.A)(e=>{let{theme:t}=e;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:e=>{let{underline:t,ownerState:n}=e;return"always"===t&&"inherit"!==n.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter((0,w.A)()).map(e=>{let[n]=e;return{props:{underline:"always",color:n},style:{"--Link-underlineColor":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / 0.4)"):(0,u.X4)(t.palette[n].main,.4)}}}),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,u.X4)(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?"rgba(".concat(t.vars.palette.text.secondaryChannel," / 0.4)"):(0,u.X4)(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(v.focusVisible)]:{outline:"auto"}}}]}})),N=a.forwardRef(function(e,t){let n=(0,b.b)({props:e,name:"MuiLink"}),i=(0,x.A)(),{className:o,color:l="primary",component:s="a",onBlur:A,onFocus:c,TypographyClasses:u,underline:g="always",variant:p="inherit",sx:m,...f}=n,[w,y]=a.useState(!1),j={...n,color:l,component:s,focusVisible:w,underline:g,variant:p},C=D(j);return(0,r.jsx)(I,{color:l,className:(0,d.A)(C.root,o),classes:u,component:s,onBlur:e=>{(0,h.A)(e.target)||y(!1),A&&A(e)},onFocus:e=>{(0,h.A)(e.target)&&y(!0),c&&c(e)},ref:t,ownerState:j,variant:p,...f,sx:[...void 0===S[l]?[{color:l}]:[],...Array.isArray(m)?m:[m]],style:{...f.style,..."always"===g&&"inherit"!==l&&!S[l]&&{"--Link-underlineColor":E({theme:i,ownerState:j})}}})});var B=n(4868),U=n(5684),R=n(8865),L=n(5568),Q=n(6631),P=n(6625);let F=()=>{let[e,t]=(0,a.useState)({firstName:"",lastName:"",email:"",imageUrl:"",userName:"",password:""}),[n,d]=(0,a.useState)({email:"",password:""}),{setToken:u,setUser:g}=(0,a.useContext)(Q.c),[h,p]=(0,a.useState)(""),[m,x]=(0,a.useState)(null),[f,w]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),j=e=>{let{name:n,value:r}=e.target;t(e=>({...e,[n]:r}))},C=e=>{let{name:t,value:r}=e.target;d({...n,[t]:r})},v=async n=>{if(n.preventDefault(),p("Skickar..."),!m){p("V\xe4nligen v\xe4lj en bildfil."),y(!0);return}let r=new FormData;r.append("file",m);try{let n=await fetch("/api/upload",{method:"POST",body:r});if(!n.ok)throw Error("Uppladdning av bilden misslyckades.");let i=await n.json(),o=null==i?void 0:i.imageUrl,l=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e.firstName,lastName:e.lastName,email:e.email,userName:e.userName,imageUrl:o,password:e.password})}),s=await l.json();if(console.log("API Response:",e),l.ok)p("Registreringen lyckades!"),y(!0),t({firstName:"",lastName:"",email:"",imageUrl:"",userName:"",password:""}),w(null),x(null);else{var a;409===l.status&&(null==(a=s.message)?void 0:a.includes("Email"))?p("Denna e-postadress \xe4r redan registrerad."):p(s.message||"Fel vid registrering."),y(!0)}}catch(e){p("N\xe5got gick fel."),y(!0),console.error("Error during registration:",e)}},k=async e=>{e.preventDefault(),y(!1),p("");try{let e=await fetch("api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),t=await e.json();console.log("Login response:",e),console.log("Login data:",t),e.ok?(localStorage.setItem("token",t.accessToken),localStorage.setItem("user",JSON.stringify(t.user)),u(t.accessToken),g(t.user),p("Inloggning lyckades!"),y(!0),window.location.href="/"):(p(t.message||"Inloggning misslyckades!"),y(!0))}catch(e){p("N\xe5got gick fel! F\xf6rs\xf6k igen."),y(!0),console.error("Error during login:",e)}};return console.log("Message:",h),(0,r.jsxs)(i.A,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,r.jsx)(L.A,{}),(0,r.jsxs)(o.A,{children:[(0,r.jsxs)(l.A,{elevation:4,sx:{padding:3,marginTop:8,marginBottom:10,display:"flex",flexDirection:"row",justifyContent:"space-between",backgroundColor:"#F0EBE3"},children:[(0,r.jsxs)(i.A,{sx:{backgroundColor:"#fff",padding:3,flex:1,maxWidth:"50%"},children:[(0,r.jsx)(s.A,{variant:"h5",gutterBottom:!0,children:"Inloggning"}),(0,r.jsx)("form",{onSubmit:k,children:(0,r.jsxs)(A.A,{container:!0,spacing:2,sx:{flexDirection:"column",rowGap:2,mt:3},children:[(0,r.jsx)(A.A,{children:(0,r.jsx)(c.A,{fullWidth:!0,label:"E-post",name:"email",value:n.email,onChange:C,required:!0})}),(0,r.jsx)(N,{href:"/forgot-password",variant:"body2",sx:{textAlign:"right",mb:-1,mt:1},children:"Gl\xf6mt l\xf6senordet?"}),(0,r.jsx)(A.A,{children:(0,r.jsx)(c.A,{fullWidth:!0,label:"L\xf6senord",name:"password",type:"password",value:n.password,onChange:C,required:!0})}),(0,r.jsx)(A.A,{children:(0,r.jsx)(B.A,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Logga in"})})]})})]}),(0,r.jsxs)(i.A,{sx:{backgroundColor:"#f1f5f5",padding:3,flex:1,maxWidth:"50%"},children:[(0,r.jsx)(s.A,{variant:"h5",gutterBottom:!0,children:"Registrera dig"}),(0,r.jsx)("form",{onSubmit:v,children:(0,r.jsxs)(A.A,{container:!0,spacing:2,sx:{flexDirection:"column",rowGap:2,mt:3},children:[(0,r.jsx)(A.A,{children:(0,r.jsx)(c.A,{fullWidth:!0,label:"F\xf6rnamn",name:"firstName",value:e.firstName,onChange:j,required:!0})}),(0,r.jsx)(A.A,{children:(0,r.jsx)(c.A,{fullWidth:!0,label:"Eftername",name:"lastName",value:e.lastName,onChange:j,required:!0})}),(0,r.jsx)(A.A,{children:(0,r.jsx)(c.A,{fullWidth:!0,label:"E-post",name:"email",value:e.email,onChange:j,required:!0})}),(0,r.jsx)(A.A,{children:(0,r.jsx)(c.A,{fullWidth:!0,label:"Anv\xe4ndarnamn",name:"userName",value:e.userName,onChange:j,required:!0})}),(0,r.jsx)(A.A,{children:(0,r.jsx)(c.A,{fullWidth:!0,label:"L\xf6senord",name:"password",type:"password",value:e.password,onChange:j,required:!0})}),(0,r.jsx)(A.A,{children:(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];x(t),w(URL.createObjectURL(t))}},required:!0})}),f&&(0,r.jsxs)(A.A,{children:[(0,r.jsx)(s.A,{variant:"body2",children:"Preview:"}),(0,r.jsx)("img",{src:f,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}})]}),(0,r.jsx)(A.A,{children:(0,r.jsx)(B.A,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Skapa konto"})})]})})]})]}),(0,r.jsx)(U.A,{open:b,autoHideDuration:3e4,onClose:()=>y(!1),children:(0,r.jsx)(R.A,{severity:h.includes("lyckades")?"success":"error",children:h})})]}),(0,r.jsx)(P.A,{})]})}},5568:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(7876),a=n(1494),i=n(7018),o=n(7935),l=n(9957),s=n(946),A=n(4422),c=n(1951),d=n(9143),u=n(4587),g=n.n(u),h=n(4232),p=n(6546);let m={src:"/_next/static/media/wave2.5fc98e37.png",height:116,width:2880,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAAElBMVEX///////////////////////+65XQCAAAABnRSTlOWsuqhydul31jrAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAAEUlEQVR4nGNgYGBmZGRhZQIAADwAEbnzP8oAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1},x={src:"/_next/static/media/launam.bc9f5a6d.jpg",height:376,width:600,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAAnBP/xAAZEAACAwEAAAAAAAAAAAAAAAACAwABEXH/2gAIAQEAAT8AaKqRWLwrSs+EU//EABgRAQADAQAAAAAAAAAAAAAAAAEAAxIx/9oACAECAQE/AKwNhzU//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAJCcf/aAAgBAwEBPwBpw//Z",blurWidth:8,blurHeight:5},f={src:"/_next/static/media/svamp.ca2536bc.png",height:1697,width:2178,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAbFBMVEW4LQCKezSZakT6fgCJPhr8Uk75rwDimJvzqQC2PiMWtBaZgUD2kgDTRTZ0fQD/dADybQA+pCWRlBLez4m1wGHmiwNQiQDQekyCmTncmmKTsk5QVgDyjgCvdTb7P0G5SDH8VESqXSh1PQfRhk4hukFzAAAAHnRSTlMB6pn5jbWNCzWgIuN2+nIj4VLy/NtUj3/u/N2cfcj0vj8cAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAO0lEQVR4nAXBBwKAIAwAsVPBFge4t7j+/0cTEBudANi7vkwAmc/XuKZinIZv91nO0fXrk6pCuy1lUvADQy8CnwxmTsUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:6};var w=n(9099),b=n(6631),y=n(4e3);let j=()=>{let e=(0,w.useRouter)(),{token:t,user:n}=(0,h.useContext)(b.c),u="true"===(0,y.useSearchParams)().get("isLoginPage"),[j,C]=(0,h.useState)("");return(0,r.jsxs)(a.A,{children:[(0,r.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#5C9AC2",marginTop:0,padding:.8,paddingLeft:1},children:[(0,r.jsxs)(a.A,{component:"span",sx:{cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},onClick:()=>window.location.href="/",children:[(0,r.jsx)(g(),{src:f,alt:"Svampens V\xe4rld",width:85,height:70,style:{marginRight:"8px",marginTop:"5px"}}),(0,r.jsx)(i.A,{sx:{fontFamily:"Pacifico",color:"white",fontSize:20},children:"Svampens V\xe4rld"})]}),(0,r.jsx)(i.A,{sx:{fontFamily:"Pacifico",color:"white",fontSize:40},children:"Mushrooms Blog"}),(0,r.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",columnGap:4,alignItems:"center"},children:[(0,r.jsx)(o.A,{variant:"outlined",placeholder:"S\xf6k svamp",value:j,onChange:e=>C(e.target.value),sx:{fontFamily:"Montserrat",paddingBottom:.5,width:"350px",border:"none","& .MuiOutlinedInput-root":{borderRadius:"8px",height:"2.5em",color:"white"},"& .MuiInputLabel-root":{color:"white"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"white"}},InputProps:{startAdornment:(0,r.jsx)(l.A,{position:"start",children:(0,r.jsx)(s.A,{onClick:()=>{console.log("Searching for:",j)},children:(0,r.jsx)(p.A,{sx:{color:"#F0EBE3"}})})})}}),t?(0,r.jsx)(A.A,{alt:"User",src:"http://localhost:3000/".concat(null==n?void 0:n.imageUrl),sx:{width:56,height:56,cursor:"pointer"},onClick:()=>e.push("/profile?isLoginPage=false")}):!u&&(0,r.jsx)(A.A,{sx:{width:45,height:45,cursor:"pointer"},onClick:()=>e.push("/auth?isLoginPage=true")})]})]}),(0,r.jsxs)(c.A,{elevation:0,sx:{padding:3,marginTop:0,backgroundColor:"#F0EBE3",position:"relative",overflow:"hidden"},children:[(0,r.jsxs)(d.A,{maxWidth:"lg",sx:{mt:"0",display:"flex",flexDirection:"row",columnGap:2,alignItems:"center"},children:[(0,r.jsx)(i.A,{variant:"body1",sx:{color:"#0c2d72",fontSize:"28px",fontFamily:"Montserrat"},children:"V\xe4lkommen till Svampbloggen! H\xe4r kan du hitta en lista \xf6ver svampar och deras anv\xe4ndningsomr\xe5den. Du kan ocks\xe5 l\xe4gga till en ny svamp i listan genom att registrera ett medlemskap och bidra till bloggen."}),(0,r.jsx)(g(),{src:x,alt:"mushroom"})]}),(0,r.jsx)(a.A,{sx:{position:"absolute",bottom:0,left:0,width:"100%",height:"80px"},children:(0,r.jsx)(g(),{src:m,alt:"waveimage",fill:!0,style:{zIndex:0}})})]})]})}},5764:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return n(4674)}])},6625:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(7876),a=n(9248),i=n(6060),o=n(6514),l=n(4495),s=n(1951),A=n(1494),c=n(7018),d=n(946);n(4232);let u=()=>(0,r.jsx)(s.A,{elevation:3,sx:{padding:2,backgroundColor:"#5C9AC2",mt:6,mb:0},children:(0,r.jsxs)(A.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#5C9AC2"},children:[(0,r.jsx)(c.A,{variant:"body1",sx:{color:"white",fontSize:"20px",fontFamily:"Montserrat",paddingRight:2},children:"Kolla in Oss p\xe5 Sociala Medier"}),(0,r.jsx)(d.A,{component:"a",href:"https://www.facebook.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:(0,r.jsx)(a.A,{sx:{fontSize:30,color:"white"}})}),(0,r.jsx)(d.A,{component:"a",href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:(0,r.jsx)(i.A,{sx:{fontSize:30,color:"white"}})}),(0,r.jsx)(d.A,{component:"a",href:"https://www.linkedin.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:(0,r.jsx)(o.A,{sx:{fontSize:30,color:"white"}})}),(0,r.jsx)(d.A,{component:"a",href:"https://www.twitter.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:(0,r.jsx)(l.A,{sx:{fontSize:30,color:"white"}})})]})})}},e=>{var t=t=>e(e.s=t);e.O(0,[455,469,980,636,593,792],()=>t(5764)),_N_E=e.O()}]);