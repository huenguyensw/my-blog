(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{3344:(e,r,n)=>{"use strict";n.d(r,{A:()=>o});var t=n(1057),i=n(7876);let o=(0,t.A)((0,i.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite")},4675:(e,r,n)=>{"use strict";n.r(r),n.d(r,{__N_SSP:()=>k,default:()=>D});var t=n(7876),i=n(1494),o=n(1084),a=n(7935),l=n(4422),s=n(4868),A=n(5684),d=n(8865),c=n(4232);let x=e=>{let{user:r,setUser:n}=e,[x,h]=(0,c.useState)({firstName:(null==r?void 0:r.firstName)||"",lastName:(null==r?void 0:r.lastName)||"",userName:(null==r?void 0:r.userName)||"",email:(null==r?void 0:r.email)||"",imageUrl:(null==r?void 0:r.imageUrl)||"",password:(null==r?void 0:r.password)||"",newPassword:"",confirmPassword:""}),[m,g]=(0,c.useState)(null),[u,f]=(0,c.useState)(null),[p,w]=(0,c.useState)(!1),[j,v]=(0,c.useState)("");(0,c.useEffect)(()=>{console.log("EditProfile user:",r)},[r]);let C=e=>{let{name:r,value:n}=e.target;h(e=>({...e,[r]:n}))},b=async e=>{if(e.preventDefault(),v("Updatering..."),!x.password){console.log("Nuvarande l\xf6senord kr\xe4vs"),v("Nuvarande l\xf6senord kr\xe4vs"),w(!0);return}if(x.newPassword!==x.confirmPassword){console.log("Nya l\xf6senordet matchar inte bekr\xe4ftelsen"),v("Nya l\xf6senordet matchar inte bekr\xe4ftelsen"),w(!0);return}try{let e=new FormData;e.append("firstName",x.firstName),e.append("lastName",x.lastName),e.append("userName",x.userName),e.append("email",x.email),e.append("password",x.newPassword?x.newPassword:x.password),m&&e.append("imageUrl",m),console.log("image:",e.get("imageUrl"));let t=await fetch("/api/user/".concat(null==r?void 0:r._id),{method:"PUT",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:e}),i=await t.json();t.ok?(console.log("Profil uppdaterad",i),v("Profil uppdaterad"),localStorage.setItem("user",JSON.stringify(i)),n(i)):(console.log("N\xe5got gick fel",i),v(i.message||"N\xe5got gick fel")),w(!0)}catch(e){console.error("Fel vid uppdatering:",e),v("N\xe5got gick fel"),w(!0)}};return(0,t.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column"},component:"form",onSubmit:b,children:[(0,t.jsx)(o.A,{container:!0,spacing:3,sx:{flexDirection:"column",rowGap:2,alignItems:"flex-start",paddingLeft:3},children:(0,t.jsx)(o.A,{children:(0,t.jsx)("h1",{children:"Redigera profil"})})}),(0,t.jsxs)(i.A,{sx:{padding:3,flex:1,width:"100%",display:"flex",flexDirection:"row",columnGap:12},children:[(0,t.jsxs)(o.A,{container:!0,spacing:3,sx:{flexDirection:"column",rowGap:2,alignItems:"flex-start"},children:[(0,t.jsx)(o.A,{children:(0,t.jsx)(a.A,{fullWidth:!0,label:"E-post",name:"email",value:x.email,required:!0,sx:{backgroundColor:"#f0f0f0"}})}),(0,t.jsx)(o.A,{children:(0,t.jsx)(a.A,{fullWidth:!0,label:"F\xf6rnamn",name:"firstName",value:x.firstName,onChange:C,required:!0})}),(0,t.jsx)(o.A,{children:(0,t.jsx)(a.A,{fullWidth:!0,label:"Efternamn",name:"lastName",value:x.lastName,onChange:C,required:!0})}),(0,t.jsx)(o.A,{children:(0,t.jsx)(a.A,{fullWidth:!0,label:"Anv\xe4ndarnamn",name:"userName",value:x.userName,onChange:C,required:!0})})]}),(0,t.jsxs)(o.A,{container:!0,spacing:3,sx:{flexDirection:"column",rowGap:2,alignItems:"flex-start"},children:[(0,t.jsx)(o.A,{children:(0,t.jsx)(a.A,{fullWidth:!0,label:"Nuvarande L\xf6senord",name:"password",type:"password",value:x.password,required:!0,sx:{backgroundColor:"#f0f0f0"}})}),(0,t.jsx)(o.A,{children:(0,t.jsx)(a.A,{fullWidth:!0,label:"Ny L\xf6senord",name:"newPassword",type:"password",value:x.newPassword,onChange:C})}),(0,t.jsx)(o.A,{children:(0,t.jsx)(a.A,{fullWidth:!0,label:"Bekr\xe4fta Nytt L\xf6senord",name:"confirmPassword",type:"password",value:x.confirmPassword,onChange:C})})]}),(0,t.jsxs)(o.A,{container:!0,spacing:3,sx:{flexDirection:"column",marginLeft:"auto",marginRight:10},children:[(0,t.jsx)(l.A,{alt:null==r?void 0:r.firstName,src:u||(null==r?void 0:r.imageUrl)||"",sx:{width:250,height:250,objectFit:"cover"}}),(0,t.jsxs)(s.A,{variant:"text",component:"label",fullWidth:!0,children:["Ladda upp bild",(0,t.jsx)("input",{type:"file",hidden:!0,name:"imageUrl",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=e.target.files[0];g(r),f(URL.createObjectURL(r))}}})]})]})]}),(0,t.jsxs)(i.A,{sx:{display:"flex",flexDirection:"row",width:"100%",marginTop:4,columnGap:4,justifyContent:"flex-end"},children:[(0,t.jsx)(o.A,{children:(0,t.jsx)(s.A,{type:"submit",variant:"outlined",color:"primary",fullWidth:!0,sx:{textTransform:"none",fontSize:"1rem"},children:"Spara"})}),(0,t.jsx)(o.A,{children:(0,t.jsx)(s.A,{type:"button",variant:"outlined",color:"primary",fullWidth:!0,onClick:()=>window.location.href="/profile",sx:{textTransform:"none",fontSize:"1rem"},children:"Avbryt"})})]}),(0,t.jsx)(A.A,{open:p,autoHideDuration:3e3,onClose:()=>w(!1),children:(0,t.jsx)(d.A,{severity:j.includes("uppdaterad")?"success":"error",children:j})})]})};var h=n(5568),m=n(1951),g=n(7018),u=n(9143),f=n(8230),p=n.n(f),w=n(1057);let j=(0,w.A)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),v=(0,w.A)((0,t.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");var C=n(3344),b=n(6625),y=n(6631),k=!0;let D=e=>{let{blogs:r}=e,[n,o]=c.useState(0),{user:a,setUser:l}=c.useContext(y.c),A=r.filter(e=>{var r;return(null==(r=e.author)?void 0:r._id)===(null==a?void 0:a._id)}),d=r.filter(e=>{var r;return null==a||null==(r=a.favorites)?void 0:r.includes(e._id)});return(0,t.jsxs)(i.A,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)(h.A,{}),(0,t.jsxs)(m.A,{elevation:3,sx:{padding:3,marginTop:8,marginBottom:10,display:"flex",flexDirection:"row",width:"50%",margin:"40px auto",columnGap:4,backgroundColor:"#F0EBE3"},children:[(0,t.jsxs)(i.A,{sx:{backgroundColor:"#fff",padding:3,flex:1,maxWidth:"15%",display:"flex",flexDirection:"column",rowGap:2,alignItems:"flex-start"},children:[(0,t.jsx)(g.A,{variant:"h5",gutterBottom:!0,sx:{fontFamily:"Montserrat",fontSize:"1.5rem",marginBottom:2,marginTop:2,color:"#0c2d72"},children:"Min profil"}),(0,t.jsxs)(s.A,{onClick:()=>{o(0)},sx:{textTransform:"none",backgroundColor:0===n?"#f1f5f5":"transparent"},children:[(0,t.jsx)(j,{sx:{marginRight:1}}),(0,t.jsx)(g.A,{variant:"h5",gutterBottom:!0,sx:{fontFamily:"Montserrat",fontSize:"1.2rem",color:"#0c2d72"},children:"Redigera profil"})]}),(0,t.jsxs)(s.A,{onClick:()=>{o(1)},sx:{textTransform:"none",backgroundColor:1===n?"#f1f5f5":"transparent"},children:[(0,t.jsx)(v,{sx:{marginRight:1}}),(0,t.jsx)(g.A,{variant:"h5",gutterBottom:!0,sx:{fontFamily:"Montserrat",fontSize:"1.2rem",color:"#0c2d72"},children:"Mina inl\xe4gg"})]}),(0,t.jsxs)(s.A,{onClick:()=>{o(2)},sx:{textTransform:"none",backgroundColor:2===n?"#f1f5f5":"transparent"},children:[(0,t.jsx)(C.A,{sx:{marginRight:1}}),(0,t.jsx)(g.A,{variant:"h5",gutterBottom:!0,sx:{fontFamily:"Montserrat",fontSize:"1.2rem",color:"#0c2d72"},children:"Mina favoriter"})]}),(0,t.jsx)(s.A,{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/auth?isLoginPage=true"},sx:{textTransform:"none"},children:(0,t.jsx)(g.A,{variant:"h5",gutterBottom:!0,sx:{fontFamily:"Montserrat",fontSize:"1.2rem",color:"#0c2d72"},children:"Logga ut"})})]}),(0,t.jsxs)(i.A,{sx:{backgroundColor:"#fff",padding:3,flex:1,maxWidth:"85%"},children:[0===n&&a&&(0,t.jsx)(x,{user:a,setUser:l}),1===n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("h1",{children:"Mina Inl\xe4gg"}),(0,t.jsx)(s.A,{variant:"outlined",color:"primary",onClick:()=>{window.location.href="/add"},sx:{textTransform:"none",fontSize:"1rem",fontFamily:"Montserrat"},children:"Skapa nytt inl\xe4gg"})]}),(0,t.jsx)(u.A,{sx:{display:"flex",flexDirection:"column",rowGap:2,marginTop:2},children:A.map((e,r)=>(0,t.jsx)(p(),{href:"/blog/".concat(e._id),style:{textDecoration:"none",color:"inherit"},children:(0,t.jsxs)(m.A,{elevation:3,sx:{padding:2,display:"flex",flexDirection:"column",columnGap:2,backgroundColor:"#F0EBE3",cursor:"pointer"},children:[(0,t.jsx)(i.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:(0,t.jsx)(g.A,{variant:"body2",color:"text.secondary",sx:{fontFamily:"Montserrat",color:"#0c2d72",fontWeight:400},children:new Date(e.createdAt).toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"})})}),(0,t.jsxs)(i.A,{sx:{display:"flex",flexDirection:"row",columnGap:2},children:[(0,t.jsx)("img",{src:e.imageUrl,alt:e.name,style:{width:"100px",height:"100px",borderRadius:"8px"}}),(0,t.jsxs)(i.A,{children:[(0,t.jsx)(g.A,{variant:"h6",gutterBottom:!0,children:e.name}),(0,t.jsx)(g.A,{variant:"body1",gutterBottom:!0,children:e.description})]})]})]})},r))})]}),2===n&&(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("h1",{children:"Mina favoriter"}),(0,t.jsx)(u.A,{sx:{display:"flex",flexDirection:"column",rowGap:2,marginTop:2},children:d.map((e,r)=>(0,t.jsx)(p(),{href:"/blog/".concat(e._id),style:{textDecoration:"none",color:"inherit"},children:(0,t.jsxs)(m.A,{elevation:3,sx:{padding:2,display:"flex",flexDirection:"row",columnGap:2,backgroundColor:"#F0EBE3",cursor:"pointer"},children:[(0,t.jsx)("img",{src:e.imageUrl,alt:e.name,style:{width:"100px",height:"100px",borderRadius:"8px"}}),(0,t.jsxs)(i.A,{children:[(0,t.jsx)(g.A,{variant:"h6",gutterBottom:!0,children:e.name}),(0,t.jsx)(g.A,{variant:"body1",gutterBottom:!0,children:e.description})]})]})},r))})]})]})]}),(0,t.jsx)(b.A,{})]})}},5568:(e,r,n)=>{"use strict";n.d(r,{A:()=>C});var t=n(7876),i=n(1494),o=n(7018),a=n(7935),l=n(9957),s=n(946),A=n(4422),d=n(1951),c=n(9143),x=n(4587),h=n.n(x),m=n(4232),g=n(6546);let u={src:"/_next/static/media/wave2.5fc98e37.png",height:116,width:2880,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAAElBMVEX///////////////////////+65XQCAAAABnRSTlOWsuqhydul31jrAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAAEUlEQVR4nGNgYGBmZGRhZQIAADwAEbnzP8oAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1},f={src:"/_next/static/media/launam.bc9f5a6d.jpg",height:376,width:600,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAAnBP/xAAZEAACAwEAAAAAAAAAAAAAAAACAwABEXH/2gAIAQEAAT8AaKqRWLwrSs+EU//EABgRAQADAQAAAAAAAAAAAAAAAAEAAxIx/9oACAECAQE/AKwNhzU//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAJCcf/aAAgBAwEBPwBpw//Z",blurWidth:8,blurHeight:5},p={src:"/_next/static/media/svamp.ca2536bc.png",height:1697,width:2178,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAbFBMVEW4LQCKezSZakT6fgCJPhr8Uk75rwDimJvzqQC2PiMWtBaZgUD2kgDTRTZ0fQD/dADybQA+pCWRlBLez4m1wGHmiwNQiQDQekyCmTncmmKTsk5QVgDyjgCvdTb7P0G5SDH8VESqXSh1PQfRhk4hukFzAAAAHnRSTlMB6pn5jbWNCzWgIuN2+nIj4VLy/NtUj3/u/N2cfcj0vj8cAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAO0lEQVR4nAXBBwKAIAwAsVPBFge4t7j+/0cTEBudANi7vkwAmc/XuKZinIZv91nO0fXrk6pCuy1lUvADQy8CnwxmTsUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:6};var w=n(9099),j=n(6631),v=n(4e3);let C=()=>{let e=(0,w.useRouter)(),{token:r,user:n}=(0,m.useContext)(j.c),x="true"===(0,v.useSearchParams)().get("isLoginPage"),[C,b]=(0,m.useState)("");return(0,t.jsxs)(i.A,{children:[(0,t.jsxs)(i.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#5C9AC2",marginTop:0,padding:.8,paddingLeft:1},children:[(0,t.jsxs)(i.A,{component:"span",sx:{cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},onClick:()=>window.location.href="/",children:[(0,t.jsx)(h(),{src:p,alt:"Svampens V\xe4rld",width:85,height:70,style:{marginRight:"8px",marginTop:"5px"}}),(0,t.jsx)(o.A,{sx:{fontFamily:"Pacifico",color:"white",fontSize:20},children:"Svampens V\xe4rld"})]}),(0,t.jsx)(o.A,{sx:{fontFamily:"Pacifico",color:"white",fontSize:40},children:"Mushrooms Blog"}),(0,t.jsxs)(i.A,{sx:{display:"flex",flexDirection:"row",columnGap:4,alignItems:"center"},children:[(0,t.jsx)(a.A,{variant:"outlined",placeholder:"S\xf6k svamp",value:C,onChange:e=>b(e.target.value),sx:{fontFamily:"Montserrat",paddingBottom:.5,width:"350px",border:"none","& .MuiOutlinedInput-root":{borderRadius:"8px",height:"2.5em",color:"white"},"& .MuiInputLabel-root":{color:"white"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"white"}},InputProps:{startAdornment:(0,t.jsx)(l.A,{position:"start",children:(0,t.jsx)(s.A,{onClick:()=>{console.log("Searching for:",C)},children:(0,t.jsx)(g.A,{sx:{color:"#F0EBE3"}})})})}}),r?(0,t.jsx)(A.A,{alt:"User",src:"http://localhost:3000/".concat(null==n?void 0:n.imageUrl),sx:{width:56,height:56,cursor:"pointer"},onClick:()=>e.push("/profile?isLoginPage=false")}):!x&&(0,t.jsx)(A.A,{sx:{width:45,height:45,cursor:"pointer"},onClick:()=>e.push("/auth?isLoginPage=true")})]})]}),(0,t.jsxs)(d.A,{elevation:0,sx:{padding:3,marginTop:0,backgroundColor:"#F0EBE3",position:"relative",overflow:"hidden"},children:[(0,t.jsxs)(c.A,{maxWidth:"lg",sx:{mt:"0",display:"flex",flexDirection:"row",columnGap:2,alignItems:"center"},children:[(0,t.jsx)(o.A,{variant:"body1",sx:{color:"#0c2d72",fontSize:"28px",fontFamily:"Montserrat"},children:"V\xe4lkommen till Svampbloggen! H\xe4r kan du hitta en lista \xf6ver svampar och deras anv\xe4ndningsomr\xe5den. Du kan ocks\xe5 l\xe4gga till en ny svamp i listan genom att registrera ett medlemskap och bidra till bloggen."}),(0,t.jsx)(h(),{src:f,alt:"mushroom"})]}),(0,t.jsx)(i.A,{sx:{position:"absolute",bottom:0,left:0,width:"100%",height:"80px"},children:(0,t.jsx)(h(),{src:u,alt:"waveimage",fill:!0,style:{zIndex:0}})})]})]})}},6625:(e,r,n)=>{"use strict";n.d(r,{A:()=>x});var t=n(7876),i=n(9248),o=n(6060),a=n(6514),l=n(4495),s=n(1951),A=n(1494),d=n(7018),c=n(946);n(4232);let x=()=>(0,t.jsx)(s.A,{elevation:3,sx:{padding:2,backgroundColor:"#5C9AC2",mt:6,mb:0},children:(0,t.jsxs)(A.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#5C9AC2"},children:[(0,t.jsx)(d.A,{variant:"body1",sx:{color:"white",fontSize:"20px",fontFamily:"Montserrat",paddingRight:2},children:"Kolla in Oss p\xe5 Sociala Medier"}),(0,t.jsx)(c.A,{component:"a",href:"https://www.facebook.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:(0,t.jsx)(i.A,{sx:{fontSize:30,color:"white"}})}),(0,t.jsx)(c.A,{component:"a",href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:(0,t.jsx)(o.A,{sx:{fontSize:30,color:"white"}})}),(0,t.jsx)(c.A,{component:"a",href:"https://www.linkedin.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:(0,t.jsx)(a.A,{sx:{fontSize:30,color:"white"}})}),(0,t.jsx)(c.A,{component:"a",href:"https://www.twitter.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:(0,t.jsx)(l.A,{sx:{fontSize:30,color:"white"}})})]})})},8172:(e,r,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(4675)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[455,469,980,230,636,593,792],()=>r(8172)),_N_E=e.O()}]);